<!--30강  콜백함수-->

<!-- 스크립트의 모든 함수는 매개변수를 가질 수 있다.ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ-->
<script> 
const 테스트 = function (a) {
  console.log(a)
}

테스트(10)
테스트("안녕하세요")
테스트(true)


//자바스크립트에선ㄴ 함수도 하나의 값이기 때문에 함수의 매개변수로 전달을 할 수 있다.


const 함수 = function () {
  console.log("안녕하세요")
}   
테스트(함수)  /* 테스트라는 녀석의 매개변수에 함수를 전달해서 호출할 수 있다.

/*
10
안녕하세요
true
ƒ () {
  console.log("안녕하세요")
}

이렇게 나옴*/
</script>

<!--약간 수정해보기ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ-->

<script>

const 테스트 = function(콜백함수) {
  콜백함수()
}

const 함수 = function () {
  console.log("안녕하세요")
} 
</script>
<!---콜백함수의 형태가 매개변수로 숫자하나를 받는 형태!ㅡㅡㅡㅡㅡㅡㅡㅡ---------------------->                                      -->
<script> 
const 테스트 = function (콜백함수) {
  콜백함수(10)
}

const 함수 = function (콜백함수의_매개변수) {
  console.log(`${콜백함수의_매개변수}번째 안녕하세요`)
}
테스트(함수)
//10번째 안녕하세요
</script>
<!--콜백함수의 형태가 매개변수로 숫자하나를 받는 형태! 또다른것ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ-->
<script>
  const 테스트 = function (콜백함수) {
    for(let i = 0; i <5; i++) {
      콜백함수(i)
    }
  }

  const 함수 = function (콜백함수의_매개변수) {
    console.log(`${콜백함수의_매개변수}번째 안녕하세요`)
  }
  테스트(함수)
  /*
0번째 안녕하세요
1번째 안녕하세요
2번째 안녕하세요
3번째 안녕하세요
4번째 안녕하세요
undefined
  */
</script>
<!--ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ-->
<!--ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ조금 더 복잡하게 해보기ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ-->
<script>
  const 테스트 = function (배열, 콜백함수) {
  for (const 값 of 배열) {
    콜백함수(값)
  }
}

  const 함수 = function (콜백함수의_매개변수) {
    console.log(`${콜백함수의_매개변수}번째 안녕하세요`)
  }
  테스트([52,273,103,32], 함수)

//87~90은 이렇게도 표현할 수 있다.
/*

테스트([52, 273, 103, 32], function (콜백함수의_매개변수) {
  console.log(`${콜백함수의_매개변수}번째 안녕하세요`)
})

*/

  //ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ
  /*
  52번째 안녕하세요
  273번째 안녕하세요
  103번째 안녕하세요
  32번째 안녕하세요
  */
</script>
<!--ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡforEach()ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ-->
<!--
forEach라는 녀석은 배열의 요소를 콜백함수로 전달해서 반복을 도는 녀석이다. 
-->
<script>
  const 배열 = [273, 52, 103, 32, 57]
  배열.forEach(function (value, index, array) { //array는 잘 쓰지 않아서 없어도됌
    console.log(value, index, array)
  })

  /*
  273 0 (5) [273, 52, 103, 32, 57]
  52  1 (5) [273, 52, 103, 32, 57]
  103 2 (5) [273, 52, 103, 32, 57]
  32  3 (5) [273, 52, 103, 32, 57]
  57  4 (5) [273, 52, 103, 32, 57]
  undefined
  */
 
  const 배열 = [273, 52, 103, 32, 57]
  배열.forEach(function (value, index) {
    console.log(`${index}번째의 값은 ${value}`)
  })
  
/*
0번째의 값은 273
1번째의 값은 52
2번째의 값은 103
3번째의 값은 32
4번째의 값은 57
undefined
*/
</script>
<!--ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡfilter()ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ--> 
<script> 
//filter()메소드는 콜백함수에서 리턴하는 값이 true인 것들만 모아서 새로운 배열을 만드는함수다.
console.log(배열.filter(function(value, index) {
  return true
}))

console.log(배열.filter(function (value, index) {
  return false
}))

//이러면 최종적으로 filter는 필터링한 배열을 리턴한다.

/*최종적으로 출력 결과

(5) [273, 52, 103, 32, 57]
[]                                      false이니까
undefined

*/
//ㅡㅡㅡㅡㅡㅡㅡㅡㅡ짝수만ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ

let 배열 = [273, 52, 103, 32, 57]  //const하면 재할당 안된다
배열 = 배열.filter(function(value, index) {
  return value % 2 === 0
})
console.log(배열)

//(2) [52, 32]

let 배열 = [273, 52, 103, 32, 57]  //const하면 재할당 안된다
배열 = 배열.filter(function(value, index) {
  return value % 2 === 1
})
console.log(배열)



</script>
<!--ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡfilter()ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ--> 
<script>

//map()메소드는 콜백함수에서 리턴한 값들을 기반으로 새로운 배열을 만드는 함수입니다.

let 배열 = [273, 52, 103, 32, 57]  //const하면 재할당 안된다
배열 = 배열.map(function(value, index) {
  return value + "!!"
})
console.log(배열)
//(5) ['273!!', '52!!', '103!!', '32!!', '57!!']
</script>

<!--ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ--> 

<!--그냥 value %  === 0만 입력하고 싶은데, 
  이걸 입력하기 위해서 앞뒤로 입력해야되는 코드가 너무 많다. 
  함수를 좀더 간단한 형태로 입력할 수있는 방법을 만들어보자고 생각함
  그래서 생긴게 화살표 함수 
  형태:   =>                                                                      -->
<script>
  let 배열 = [273, 52, 103, 32, 57]  
배열 = 배열.filter(function(value, index) {//여기를 수정해야됨!!!!!!!!!!!!!!!!!!!!!!1
  return value % 2 === 0
})
console.log(배열)

//여기에서 약간만 수정하면 됨

let 배열 = [273, 52, 103, 32, 57]  
배열 = 배열.filter((value, index) => {  //여기가 바뀐거!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!1
  return value % 2 === 0
})
console.log(배열)
//ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ같은건데 설명상 하나 더씀
let 배열 = [273, 52, 103, 32, 57]  
배열 = 배열.filter((value, index) => value % 2 === 0) 
/*내부에 있는 코드가 리턴을 하는 코드 하나라면 이 중괄호와 리턴키워드까지 생략 가능
(211~213비교해봐)*/
console.log(배열)
</script>

<!--ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡmap은 이거 참고해서 만들어봐ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ-->

<script>
  const myForEach = function (배열, 콜백함수) {
    for(let i = 0; i < 배열.length; i++) {
      const element = 배열[i];
      콜백함수(element, i, 배열)
    }
  }

  const myFilter = function (배열, 콜백함수) {
    const output = []
    for(let i = 0; i < 배열.length; i ++) {
      const element = 배열[i];
      if(콜백함수(element, i, 배열)) {
        output.push(element)
      }
    }
    return output
  }
  console.log(myForEach)
  console.log(myFilter)
</script>