<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      let counter = 0
      let isConnect = false
      
      const h1 = document.querySelector('h1')
      const p = document.querySelector('p')
      const connectButton = document.querySelector('#connect')
      const disconnectButton = document.querySelector('#disconnect')
      
      const listener = (event) => {
        h1.textContent = `클릭횟수: ${counter++}`  //listener는 클릭할 때마다 클릭횟수옆 숫자가 올라가도록 하는 함수다.
      }

      connectButton.addEventListener('click', () => {
        if (isConnect === false) {
          h1.addEventListener('click',listener)
          p.textContent = '이벤트 연결 상태: 연결'
          isConnect = true
        }
      })
      disconnectButton.addEventListener('click', () => {
        if (isConnect === true) {
          h1.removeEventListener('click',listener)  //해제할 떄 이벤트 리스너를 사용한다.
          p.textContent = '이벤트 연결 상태: 해제'
          isConnect = false
        }
      })
    })
  </script>
  <style>
    h1{
      user-select: none;
      /*클릭을 여러번 했을 떄 글자가 선택되는 것을 막기 위한 스타일*/
    }
  </style>
</head>
<body>
  <h1>클릭횟수: 0</h1>
  <button id="connect">이벤트 연결</button>
  <button id="disconnect">이벤트 제거</button>
  <p>이벤트 연결 상태: 해제</p>
</body>
</html>