<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const input = document.querySelector('input')
      const p = document.querySelector('p')
      const isEmail = (value) => {
        //골뱅이를 갖고 있고 && 골뱅이 뒤에 점이 있다면
        return (value.indexOf('@') > 1)                                     //@이 1보다 커야되는것은 처음부터(0)나오면안되고 -1이면 없으니까 안되므로 
          && (value.split('@')[1].indexOf('.') > 1)        
      }
      console.log('ykmr0331@naver.com'.split('@')[1].indexOf('.'))   //5 나옴  그러니까 이메일을 @로 쪼갰을 때 [1]은 naver.com이고 '.'은 5(0부터시작이니까 6번째수)가나온다.
      console.log('ykmr0331@naver.com'.indexOf('@'))                 //8 나옴  그러니까 이메일을 에서 @는 8(0부터 시작이니까 9번째)이 나온다. 


      input.addEventListener('keyup', (event) => {
        const value = event.currentTarget.value
          if (isEmail(value)) {
            p.style.color = 'green'
            p.textContent = `이메일 형식입니다.:${value}`
          }else {
            p.style.color = 'red'
            p.textContent = `이메일 형식이 아닙니다: ${value}`
          }
      })

    })
  </script>
</head>
<body>
  <input type = "text">
  <p></p>
</body>
</html>